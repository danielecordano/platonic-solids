<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stellated Dodecahedron</title>
    <style>
        body { margin: 0; overflow: hidden; }
        canvas { display: block; }
    </style>
</head>
<body>

<script type="module">
    import * as THREE from 'https://cdn.jsdelivr.net/npm/three@latest/build/three.module.js';

    function createStellatedDodecahedron() {
        const phi = (1 + Math.sqrt(5)) / 2; // Golden ratio

        // Base dodecahedron vertices
        const vertices = [
            [-1, -1, -1], [-1, -1,  1], [-1,  1, -1], [-1,  1,  1],
            [ 1, -1, -1], [ 1, -1,  1], [ 1,  1, -1], [ 1,  1,  1],
            [ 0, -1/phi, -phi], [ 0, -1/phi,  phi], [ 0,  1/phi, -phi], [ 0,  1/phi,  phi],
            [-1/phi, -phi,  0], [-1/phi,  phi,  0], [ 1/phi, -phi,  0], [ 1/phi,  phi,  0],
            [-phi,  0, -1/phi], [-phi,  0,  1/phi], [ phi,  0, -1/phi], [ phi,  0,  1/phi]
        ];

        // Normalize to ensure equal edge lengths
        for (let v of vertices) {
            const len = Math.sqrt(v[0]**2 + v[1]**2 + v[2]**2);
            v[0] /= len; v[1] /= len; v[2] /= len;
        }

        // Faces of the stellated dodecahedron
        const faces = [
            [0, 8, 10], [0, 12, 8], [0, 16, 12], [0, 10, 16], [1, 9, 11],
            [1, 13, 9], [1, 17, 13], [1, 11, 17], [2, 10, 14], [2, 14, 12],
            [2, 18, 14], [2, 16, 18], [3, 11, 15], [3, 13, 15], [3, 19, 13],
            [3, 17, 19], [4, 8, 14], [4, 14, 18], [4, 18, 12], [4, 12, 8],
            [5, 9, 15], [5, 15, 19], [5, 19, 13], [5, 13, 9], [6, 10, 16],
            [6, 16, 18], [6, 18, 14], [6, 14, 10], [7, 11, 17], [7, 17, 19],
            [7, 19, 15], [7, 15, 11]
        ];

        const geometry = new THREE.BufferGeometry();
        const positions = [];

        faces.forEach(face => {
            face.forEach(index => {
                positions.push(...vertices[index]);
            });
        });

        geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
        geometry.computeVertexNormals();

        return new THREE.Mesh(geometry, new THREE.MeshNormalMaterial({ flatShading: true }));
    }

    // Set up Three.js scene
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 3;

    const renderer = new THREE.WebGLRenderer();
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.body.appendChild(renderer.domElement);

    const stellatedDodecahedron = createStellatedDodecahedron();
    scene.add(stellatedDodecahedron);

    const light = new THREE.PointLight(0xffffff, 1, 100);
    light.position.set(5, 5, 5);
    scene.add(light);

    function animate() {
        requestAnimationFrame(animate);
        stellatedDodecahedron.rotation.y += 0.01;
        renderer.render(scene, camera);
    }

    animate();

    // Resize canvas on window resize
    window.addEventListener('resize', () => {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
    });

</script>

</body>
</html>
